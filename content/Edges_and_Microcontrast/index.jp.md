---
title: Edges and Microcontrast jp
contributors:
  - Yz2house
---

<div class="pagetitle">

エッジとマイクロコントラスト

</div>

__TOC__

## 全般

　[アンシャープマスクと](sharpening/jp#unsharp_mask)違って、"エッジ"は本当にシャープニングを行うアルゴリズムです。ハロの発生はなく、ノイズの多い画像にも使えます、L\*a\*b\*色空間で使います。エッジだけを強調する機能で、[マイクロコントラストと](edges_and_microcontrast/jp#microcontrast)併用して画像の質感を高めることが出来ます。

　どちらのアルゴリズムも[Manuel
Llorens](https://github.com/ManuelLlorens)によってプログラムに実装されました。

## エッジ

　エッジと見なせる十分なコントラストを持つ全てのエッジをシャープにする機能です。言い換えると、十分なコントラストがないエッジを無視して、既にシャープなエッジだけを更にシャープにします。このアルゴリズムは画像のノイズに影響を受けません、ハロも生みません。

　このタイプのシャープニングでは、エッジが“切り取った”ような不自然な印象になることがあります。また、適用量を高くし過ぎると、結果的にエッジが\[<https://ja.wikipedia.org/wiki/%E6%8A%98%E3%82%8A%E8%BF%94%E3%81%97%E9%9B%91%E9%9F%B3>　エイリアシング\]を示すようになります。しかし、画像に直線が多い場合（特にそれらが斜線でない場合）は、便利なシャープニングの方法です、特に編集の最後に画像のサイズを縮小する場合に適しています。

　最良の結果を生むためには、以下の設定が奨められます：

1.  　繰り返し：アルゴリズムの実行を繰り返す回数を設定します。値を高くするとエッジ周りのシャープネスが過剰になります。カメラ機種によっては、設定値が２でもこの傾向が現れます。一般的には、１回或いは２回の繰り返しで良い結果が得られます。
2.  　量：エッジを構成するために解析する隣接ピクセルの数を設定します。高い値を設定するほどエッジがシャープになり、ギザギザになってきます。
3.  　輝度のみ：エッジ機能はL\*a\*b\*色空間で使いますが、このオプションを有効にするとL\*要素だけに作用します。

<figure>
<img src="/images/edges.jpg" title="edges.jpg" />
<figcaption>edges.jpg</figcaption>
</figure>

　以下のリンクに更に詳しい情報があります：
[www.rawness.es/sharpening](https://web.archive.org/web/20110625093654/http://www.rawness.es/sharpening/?lang=en)　

## マイクロコントラスト

　より大きな領域（低周波）間のコントラストを意味する“ローカルコントラスト”に対し、
“マイクロコントラスト”は、ピクセルレベルのコントラストとして定義できます。[1](https://web.archive.org/web/20110625093654/http://www.rawness.es/sharpening/?lang=en#comment-306)。

　マイクロコントラストは、隣接するピクセルと比較したコントラストを増やす機能で、効果的には質感をはっきりさせます。ノイズ低減を行ったことで失われた質感を回復させる目的で使われます。ハロは生みません[2](https://web.archive.org/web/20100324142513/http://www.rawness.es/contraste-local-y-microcontraste/?lang=en)。

<figure>
<img src="/images/seagull-microcontrast.jpg"
title="seagull-microcontrast.jpg" />
<figcaption>seagull-microcontrast.jpg</figcaption>
</figure>

　機能の働きは漸進的なので、ピクセルレベルのコントラスト増とアーティファクト発生のバランスをとることが出来ます：

- 　コントラストのしきい値：ピクセルに作用する最低のコントラストを設定します
- 　量：効果の強さを設定します。高い設定値ほど、ピクセル間のコントラストの違いが大きくなります。
- 　均質性：スライダーを左に動かすほど、元々のコントラストの諧調が考慮されます。右に動かすほど、コントラストが強くなり、元々のコントラストの諧調が無視されるので、ザラザラした質感になります。
- 　マトリクス：コントラストの違いを計算する領域の大きさを決めます。解析対象を中心に3x3ピクセルのマトリクスを使う、5x5ピクセルのマトリクスを使う、二通があります。デフォルトでは5x5ピクセルになっていて、より強い効果が期待できます。3x3ピクセルのマトリクスはノイズの多い画像に適しています。
