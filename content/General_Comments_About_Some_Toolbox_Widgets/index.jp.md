---
title: General Comments About Some Toolbox Widgets jp
contributors:
  - Yz2house
---

<div class="pagetitle">

一部の機能に関する全般的説明

</div>

　ここではRawTherapeeを効率良く使うための説明と、経験豊かなユーザーも知らないかもしれない機能を最大限に活用するための説明が書かれています。数分で読めますので是非目を通して下さい。

## パネル

　画像編集タブは3つのメインパネルで構成されています。パネルの表示/非表示ボタン　![<File:Panel-to-bottom.png>](Panel-to-bottom.png "File:Panel-to-bottom.png")
![<File:Panel-to-left.png>](Panel-to-left.png "File:Panel-to-left.png")
![<File:Panel-to-top.png>](Panel-to-top.png "File:Panel-to-top.png")
![<File:Panel-to-right.png>](Panel-to-right.png "File:Panel-to-right.png")を使えば、編集画像を表示するためのスペースを増やせます。

　パネルの位置を上下させるのにマウスのスクロールホイールを使っても、誤ってスライダーなどの設定値が動いてしまうことはありません。RawTherapeeでは、スライダーやドロップダウンメニュー（コンボボックスと呼ばれる）を調節する場合は、Shiftキーを押しながらスクロールホイールを使わなければならないようになっているからです。

## 機能

　沢山の機能がありますが、画面縦方向のスペースに限りがあるためスクロールするのに時間がかかります。機能のタイトルを右クリックすると機能が収まっているパネルが拡大する一方で、他の機能パネルが閉じるようになっています。この工夫によって、目的の機能を表示するスペースを確保し、スクロールを使う時間を短縮できます。

　殆どの機能にそのタイトルの左側にパワーボタンがあり、機能の有効・無効を決められます。また、[ファイルブラウザで](The_File_Browser_Tab/jp.md)、複数枚が選択されていて、何枚かはその機能が有効になっているが、他は無効になっている場合には、パワーボタンが“矛盾”という状況を示します。

![<File:Power-off-small.png>](Power-off-small.png "File:Power-off-small.png")
機能を無効にする

![<File:Power-on-small.png>](Power-on-small.png "File:Power-on-small.png")
機能を有効にする

![<File:Power-inconsistent-small.png>](Power-inconsistent-small.png "File:Power-inconsistent-small.png")
機能の使用が矛盾している

![<File:Expander-closed-small.png>](Expander-closed-small.png "File:Expander-closed-small.png")
機能パネルを折りたたむ

![<File:Expander-open-small.png>](Expander-open-small.png "File:Expander-open-small.png")
機能パネルを拡張する

## スライダー

　スライダーを調整するには、マウスのカーソルをスライダー上に持って行き、キーを押しながらスクロールするとスライダーが左右に動きます。キーを押さなければ、パネルが上下に動きます。

　スライダーにはファインチューニングモードが付いているので、非常に微妙なスライダー調整が必要な場合に使います。カーソルをスライダーの節点に持って行き、クリックして動かさずに1秒間維持すると、ファインチューニングモードに入ります。カーソルを節点に位置しながらキーを押してもこのモードに入れます。また、ファインチューニングモードを解除する際にも、この操作を行います。この機能は[GTK+
3](https://en.wikipedia.org/wiki/GTK+)を使っているプログラムに共通したものです。

　スライダーにはリセットボタン![<File:Undo-small.png>](Undo-small.png "File:Undo-small.png")が付いていて、2つの使い方があります：

- でスライダーをデフォルト値に戻します。殆どのスライダーはデフォルト値として0がハードコードされていますが、0が適当でない場合のスライダーには他の数値が設定されています。

- \+ でスライダーを、画像を開いた時に設定されていた値に戻します。

## カーブ

　RawTherapeeには3種類のカーブがあります－しきい値カーブ、トーンカーブ、そしてフラットカーブです。以下、各カーブについて全般的な説明をします。

- トーンカーブ
- イコライザカーブ
- しきい値カーブ

<div align="center">

<File:Rt55> curve type tone.png\|トーンカーブ <File:Rt55> curve type
equalizer.png\|イコライザカーブ <File:Rt55> curve type
threshold.png\|しきい値カーブ

</div>

\[\[<File:Rt55> curves.png\|frame\|1- カーブの種類

2- カーブのモード\]\]
　トーンカーブとイコライザカーブの形状は、貴方がマウスを使って作成・位置決めをしたコントロールポイントをベースに定義されます。カーブが線形、つまり入力値と出力値が同じ、であれば画像に対する効果は何もありませんが、カーブが非線形になることで画像への効果が生まれます。
貴方が作成・位置決めしたコントロールポイントをベースにカーブがプロットされます。同じコントロールポイントでも、基礎となっている計算式を変えることでカーブの形状が変わります、ドロップダウンリストの中のカーブの種類を選択することでこの計算式が変わるようになっています：

- ![<File:curve-linear-small.png>](curve-linear-small.png "File:curve-linear-small.png")　リニア
- ![<File:curve-spline-small.png>](curve-spline-small.png "File:curve-spline-small.png")
  スタンダード
- ![<File:curve-catmullrom-small.png>](curve-catmullrom-small.png "File:curve-catmullrom-small.png")
  フレキシブル
- ![<File:curve-parametric-small.png>](curve-parametric-small.png "File:curve-parametric-small.png")
  パレメトリック
- ![<File:curve-nurbs-small.png>](curve-nurbs-small.png "File:curve-nurbs-small.png")
  コントロールケージ

カーブの種類を選択するボタンをクリックすればカーブの表示・非表示を切り替えることが出来ます。これにより縦方向が限られているパネルのスペースを有効に使えます。カーブ形状が非線形的で、その機能が有効であれば、表示・非表示に関わらず画像に対する効果はそのままです。
[L\*a\*b\*調整のように](Lab_Adjustments/jp.md)幾つものカーブが一つのグループに入っていることもあります。グループ全体で一つのリセットボタンがあり、現在選択されているカーブだけがリセットされます。カーブの種類を選択するボタンをクリックしてリセットするカーブを選びます。
カーブの中にはカラーピッカー![<File:Crosshair-node-curve.png>](Crosshair-node-curve.png "File:Crosshair-node-curve.png")とコントロールポイントの出入力値を表示させるボタン![<File:Edit-point.png>](Edit-point.png "File:Edit-point.png")を備えたものがあります。

### カラーピッカー

<figure>
<img src="Rt55_lab_hh_color_picker.png"
title="Rt55_lab_hh_color_picker.png" />
<figcaption>Rt55_lab_hh_color_picker.png</figcaption>
</figure>

　RawTherapeeの殆どのカーブにカラーピッカーのボタン![<File:Crosshair-node-curve.png>](Crosshair-node-curve.png "File:Crosshair-node-curve.png")が付いています。この機能を有効にすると、プレビュー画面のカーソルの位置に対応するコントロールポイントを正確にカーブ上に設定できます。

　紫色の花の色相をもっと青色に近くしたい、としましょう。カラーピッカーがなければ、花の色相はカーブ上で正確にどの位置になるのか推測するしかありません。これでは調整したい色相の範囲が広すぎて、意図に反した色相を変えてしまうことになりかねません。カラーピッカーを使えば、それを花の上でクリックするだけで、色相のコントロールポイントを正確にカーブ上に作ることが出来ます。後は、必要に応じてそのコントロールポイントを調節するだけです。

　カラーピッカーボタンがクリックされると、現在選択されているカーブに関してカラーピッカーが使えるようになります。プレビュー画像の上でカーソルを動かすと、カーブに垂直或いは水平のラインが表示されます。このラインはカーソルの位置する場所のピクセル値を表しています。カーブ上にカーソル位置に対するコントロールポイントを作るためには、そこでキーを押しながらクリックします。カーブ上に節点が表示されます。この節点の調整はプレビュー画像からカーソルを移動させなくとも、そのままマウスの左ボタンを押し続けながらカーソルを上下させれば、カーブ上の節点も上下して調整が行われます。この一連の操作をキーも押しながら行うと、カーソルの動きが遅くなるので、より微妙な調整を行うことも可能ですが、通常はそこまで微妙な調節は必要ないでしょう。+で新しいコントロールポイントを作った後は、マウスの左ボタンを押しているだけで十分です。

　カラーピッカーを解除にするには、プレビュー画面の任意の場所でマウスを右クリックするか、或いはカラーピッカーのボタンを再度押せば解除されます。

　新しいカーブでカラーピッカーを使う場合、前のカーブで有効にしたカラーピッカーを解除する必要はありません。前述した操作を新しいカーブで行えば自動的に前のカラーピッカーは解除されます。

#### カーブの節点　入力値と出力値

　4.2.192以降のバージョンに追加されている機能です。各カーブにこの節点の入出力値を表示する機能があります。例えば、この機能を使って目標とする節点の値を既知のカラーコード表の値に合わせることが出来ます。

　このツールは節点で作用しますが、殆どの場合、この節点の設定にはピペット機能が使われると思われます。例えば、カーブ編集は、最初、節点がありませんので、ピペットボタンを使って節点を作ります。
節点編集ボタン![<File:Edit-point.png>](Edit-point.png "File:Edit-point.png")をクリックし、ピペットボタン![<File:Crosshair-node-curve.png>](Crosshair-node-curve.png "File:Crosshair-node-curve.png")もクリックします。すると、カーブの下に、“I”（入力値）と“O”（出力値）が表示されます。これらの値はカーブ上でマウスを動かした際のカーソルの位置の入出力値になります。プレビュー画面で動かせば、その地点の値です。既にピペットボタンを有効にしているので、画像の任意点でCtrlを押しながらマウスをクリックすれば、カーブ上にその位置の節点を設定することが出来ます（値が何であれ、例えばLカーブのL値、RawTherapeeが処理として使っているそのピクセルが内包する値ですので、出力値はカーブによって調整されている値となります）。プレビュー画像の任意の点でCtrlを押しながらクリックし、その節点がカーブ上に作られた後に、節点の入出力値を変えるには、その節点を右クリックします。節点が赤い環で囲まれ、入出力値の編集が可能な節点編集モードになります。編集が終わったら、節点以外のカーブの任意の点を右クリックするか、節点編集ボタンをもう一度クリックします。

### トーンカーブ

![](Rt55_curve_linear.png "Rt55_curve_linear.png")
![](Rt55_curve_standard.png "Rt55_curve_standard.png")
![](Rt55_curve_flexible.png "Rt55_curve_flexible.png")
![](Rt55_curve_parametric.png "Rt55_curve_parametric.png")
![](Rt55_curve_control_cage.png "Rt55_curve_control_cage.png")

　トーンカーブは入力値（水平、或いはX軸上）に対する出力値（垂直、或いはY軸上）を変える役割を果たします。最初は難しく感じるかもしれませんが、操作を少し繰り返すだけで、直感的に理解できるようになると思います。カーブを使えば“数値の水準”を定める以上のことが出来るので、その働きを会得することで、より良い調整が行えるようになります。

　右に示した露光補正機能の中にある“スタンダードカーブ”を例に取りましょう。背景にはグリッド線が表示されていて、その間隔は10％です。水平軸（入力）は左端から完全な黒、シャドウ、中間トーン、ハイライト、そして最後の右端は完全な白を意味しています。同様に、垂直軸（出力）は最下部が完全な黒、最上部が完全な白を意味していて、グリッド線の間隔も同じです。カーブが線形－例えば、左最下部から右最上部に向かった直線であれば、カーブによる効果はありませんーカーブ上のどの点においても、出力値と入力値が等しいからです。カーブによる効果を生むためには、任意の点における出力値が入力値と異なるように、この直線を曲げる必要があります。カーブ上に貴方が作る節点は、カーブのコントロールを行い易くするためのもので、計算には関係しません。関係がするのはカーブの形状です。この例では、左下部の節点でカーブが押し下げられています：節点は“入力”軸では10％のところにありますが、“出力”軸では5％のところですーこれにより暗い部分が更に暗くなります。次の節点は入力軸の40％、出力軸の60％のところに位置していますーこれにより中間トーンが操作前に比べて明るくなります。先ほど、カーブの形状だけが関係すると述べました。例題の画像には節点が2つしかありませんが、入力＝60％の所では、出力＝95％になっているので、明るい部分は操作前に比べ更に明るくなり、完全な白に近くなっています。カーブの入力＝20％のところは出力＝20％になっているので、この部分の暗さは入力と出力が同じになります。

　カーブには複数のタイプが用意されています：

- **リニア**

  
デフォルト状態のカーブで、45度の直線なので入出力データに変化はありません。数学的に言えば、Y=Xです。リニアに設定することは、カーブを初期に戻すことと同等です。

- **スタンダード**

  
他の現像ソフトにも見られる、最も一般的なカーブの種類です。カーブの直線上の任意の点でマウスをクリックして、調整ポイントを作り、そのポイントをドラッグすることでカーブの形状を変えます。グラフの右側最上部は、最大輝度で、これを垂直に下げると画像のハイライト部分の明るさが減り、水平に左に動かすと、明るい部分は更に明るさが増します（但し、露出オーバーになるかもしれません）。左側最下部は最低輝度で、垂直に上に動かすと画像のシャドウ部分が明るくなるでしょう。

- **フレキシブル**

  
“スタンダード”の3次元スプライン曲線は一つの節点を調整すると、他の節点に影響し曲線の形状が大きく変わる性質があります。“フレキシブル”は求心的な性質を持つ、Catmull-Romスプライン曲線なので、カーブの任意の節点を調整しても、殆ど他に影響しません。

- **パラメトリック**

  
カーブを直接的に動かすのではなく、スライダーで調整するタイプです。ゾーンセレクター(![Image:Parametric_curve_bar.png](Parametric_curve_bar.png "Image:Parametric_curve_bar.png"))で移動したゾーンを元の位置に戻すには、右クリックを使います。カーブ全体をデフォルトに戻す時は、右上のリセットボタンで行います。

- **コントロールケージ**

  
見た目はスタンダードカーブと非常に似ていますが、幾つか異なる点があります。スタンダードカーブでは、コントロールポイントの位置は常にカーブの線上になりますが、このカーブではそうなりません。カーブはポイントが移動した方向に引っ張られるものの、ポイントそのものには接しないことが分ると思います。もう1つの違いは、この方法は直線を作ることができることです。スタンダードカーブにはそれが出来ません。直線を描くには左下と右上にあるポイントを含め、最低5つのコントロールポイントが必要です。Shiftキーを押しながら、コントロールポイントを直前に形成した線、或いは隣の線の方向にスナップすること（ツールへの‘スナップ’と赤色で表示されます）で簡単に直線を作れます。他のカーブと比較して、多くのユーザーがこのカーブを好んで使っているようです。

### フラットカーブ

[frame](image:Flat_curve_justcurve.png.md)
　RawTherapeeのツールの中にはフラットカーブが多く使われいます：

- [Lab調整](Lab_Adjustments/jp.md)
  - [LH](Lab_Adjustments/jp#LH_カーブ.md)
  - [CH](Lab_Adjustments/jp#CH_カーブ.md)
  - [HH](Lab_Adjustments/jp#HH_カーブ.md)
- [フリンジ低減](Defringe/jp.md)
  - [Hue](Defringe/jp#色相による調整.md)
- [HSVイコライザ](HSV_Equalizer/jp.md)
  - [H](HSV_Equalizer/jp#H.md)
  - [S](HSV_Equalizer/jp#S.md)
  - [V](HSV_Equalizer/jp#V.md)

　一度、使い方を理解すれば非常にシンプルなカーブです。カラータブ![<File:Color-circles.png>](Color-circles.png "File:Color-circles.png")の中の[HSVイコライザを](HSV_Equalizer/jp.md)例にとって説明します。H（Hue:色相）ボタンの右にあるドロップダウンアイコン[image:Drop-down.pngをクリックし](image:Drop-down.png.md)、*最大／最少コントロールポイント*![<File:Curve-controlpoints-small.png>](Curve-controlpoints-small.png "File:Curve-controlpoints-small.png")を選びます。すると画面中央に6個の点がある水平線と、それに交差する色の異なる6本の垂直線が現れます。これら垂直線には、左から右へ、レッド、イエロー、グリーン、シアン、ブルー、マゼンタと色が付いています。一番左の点にカーソル合わせ、上下に少し動かしてみましょう。上に動かすと、画像の中のレッド系の色がグリーン、ブルー、マゼンタと変わり、逆に下げると、ピンク、ブルー、グリーンに変わると主来ます。

　また、点を移動させた時に、新しい水平線（太い）が表れ、移動するにつれ太線の色も変わると思います。このグラフの垂直線は入力時の色を示し、水平線は出力時の色を表しています。

　今度は垂直線で、緑の点以外の所にカーソルを合わせて動かします。点の移動方向は、その初動で決まります（ですから、目標としている結果にするため、初めにカーソルをどの方向に動かすか気を付けて下さい）。点を縦・横方向に同時に動かす場合は、点そのものをクリックしてドラッグします。また、点を一方方向だけに移動するなら、**Shift**キーを押しながら点を動かす、‘スナップトゥ’機能を使います。

　カーブ上にある点がニュートラルな地点に（例、中央の線上）あるかどうかは簡単に分ります、何故なら点の色が緑だからです。点が移動してニュートラルな値から外れると、点の色が黒に変わります。[frame](image:Flat_curve_zoom.png.md)

　[HSVイコライザは](HSV_Equalizer/jp.md)水平方向に周回しているので、一番右にある垂直線は一番左にある垂直線と同じものです。一番左の赤の垂直線を少しだけ左に動かすと、右に同じ赤い垂直線が現れます。Shiftキーを押しながら点を動かすと、周回しませんので、誤って調整点が画面の反対側に現れて見難くなることが防げます。

　調整点を消去する場合は、その点をカーブ画面の外まで動かします。また、点を増やす場合は、カーブの何れかの部分にカーソルを持って行きクリックします。点の上にカーソルを置くと、黄色と青色の四角い指示点が現れます。例えば黄色の指示点にカーソルを持ってくると、四角が左を示す矢印に変わり、カーブの形状を左寄りに変えることが出来ます。青色の四角はその反対です。

　このツールがどの様に機能しているのか実感するために、2つの色を（例えば、レッドとイエロー）残して、他の色を取り去り、いろいろ動かしてみて下さい。そしてカーブの変化に合わせて画像がどう変わるか見て下さい。

　HVSイコライザを*リニア*の状態（変更なしの状態）に戻すには、*V*（Value：明度）ボタンの右側にあるリセットのアイコン[image:Gtk-undo-ltr.pngをクリックします](image:Gtk-undo-ltr.png.md)。カーブの調整前後の画像を比較する場合は、ドロップダウンメニュー隣の▼で、カーブの種類、*リニアと最大／最少コントロールポイント*を変えるか、画面左の履歴リストを使います。

　ディスクの形をしたアイコンをクリックすれば、カーブを保存できますが、一回に保存できるのは、パネルに表示されているカーブ（H、S、或いはV）の何れか1つだけです。3つ同時に保存は出来ません。従って、保存の際に‘私のHSV’のような名前は付けないようにするべきでしょう。これでは3種類の中のどのカーブを保存したのか、後になって分らないからです。‘私のH’というような名前にした方がいいでしょう。拡張子は、RawTherapeeが自動的に“.rtc”を付加します。

### しきい値カーブ

　一見、珍しい形に見えますが（直線だけで構成されているので、カーブ、と呼ぶと違和感があるかもしれませんが）、しきい値カーブの使い方は至ってシンプルです。このカーブは、RawTherapeeに画像のどの部分のトーン（或いは、色相や彩度）で調整を行いたいのか、指示するものです。

　ディテールタブの“シャープ化”の中にある[アンシャープマスクのしきい](sharpening/jp#アンシャープマスク.md)値カーブを例に取りましょう。![](Sharpening_Threshold.png "Sharpening_Threshold.png")今このカーブが示しているのは、画像の非常に暗い部分（左側の鋭角に立っているスロープ）では、シャープニング効果が直ぐ見えるようにし、その状態を中間トーン（左から中央にかけての水平線）まで維持するが、その後のハイライト部分では徐々に（中央から右への緩やかなスロープ）シャープニング効果の見え方を弱める、という指示です。三角形の調整ポイントをドラッグすると、左、或いは右のスロープ全体が動きます。スロープ全体ではなく、調整ポイントだけを動かす場合は、Shiftキーを押しながら行います。

　右上部のリセットボタンをクリックすると、設定値がデフォルトに戻ります。

　**注意**：RawTherapeeのカーブ機能はリセットボタンを押す行為も、カーブの調整と見なします。そのためカーブ調整後に誤ってリセットボタンを押してしまうと、リセット前の同じ形のカーブに戻せません（Ctrl＋Zは、“履歴”を一つ戻してくれますが、カーブの調整には働きません）。調整をやり直すしかありません。このことは、トーンカーブやフラットカーブに関しても同じです。

　このしきい値カーブは、[ディテールレベルのコントラストや](Contrast_by_Detail_Levels/jp.md)[自然な彩度でも](Vibrance/jp.md)使われています。

## プレビューエリアの制限

　プレビュー画面は出来るだけ最終画像（保存）に近い画像を表示するよう設計されていますが、画像が大きいほど、その処理に時間がかかってしまいます。そのため処理速度の観点から、殆どの機能の調整効果はフルサイズの画像を元に計算されたものではありません（調整効果の反映は保存と全く同じ時間がかかるので、使い勝手が悪すぎます）。それよりかなり小さいプレビュー領域の大きさの画像を元に計算します。露光補正など多くの機能はどの様な大きさの画像にも適用できる上、その効果の表示が画像の大きさに関係しないので支障はありません。しかし、一部の機能の効果の表示は画像の大きさに関係します、例えばディテールタブに収まっている機能全部です。この機能のどれか一つをフルサイズと縮小した画像に適用した場合、2つの画像は同じように映りません。一方、処理速度の理由から、RawTherapeeは調整が迅速に流れるように反映されるようにするため小さいプレビュー画像を使わなければなりません。つまり、画像の大きさが影響する機能を縮小したプレビュー画像に適用すると正確な効果の確認が出来ないのです。そこで私達はこれら一部の調整効果を拡大率100％以下のプレビューでは表示しない、或いは表示はするが、100％以下の拡大率では設定次第で正確ではないかもしれない、と警告することにしました（例えば、トーンマピングやウェーブレット機能の場合、調整の設定次第では、拡大率が100％以下でも効果が正確に表れます）。拡大率100％以上を使うことが望ましい機能には、拡大率“1：1”を意味するアイコン![<File:One-to-one-small.png>](One-to-one-small.png "File:One-to-one-small.png")を機能名の横につけてあります。RawTherapeeの解説書であるRawPediaでは、各機能のページで、そのプレビューがどれだけ正確であるか説明しています。
